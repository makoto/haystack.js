/*  haystack.js Needle in a haystack, version 0.0.3
 *  (c) 2011 Makoto Inoue
 *
 *  Released under MIT license.
 */
Haystack=function(){var d=function(a,c,b){b=b||"";var g=[],f;for(f in c){var h=c[f];a(f,h)&&g.push(b+'["'+f+'"]');if(typeof h=="object")g=g.concat(d(a,h,b+'["'+f+'"]'))}return g},e=function(a){this.list=a};e.prototype.key=function(a){return d(function(c){return c==a},this.list)};e.prototype.val=function(a){return d(function(c,b){return b==a},this.list)};e.prototype.all=function(a){return d(function(c,b){return b==a||c==a},this.list)};e.prototype.any=function(a){return d(a,this.list)};e.prototype.reg=
function(a){return d(function(c,b){return result=typeof b=="string"?c.match(a)||b.match(a):c.match(a)},this.list)};return e}();H=function(d){return new Haystack(d)};
